<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.docbook.org/xml/4.3/docbookx.dtd">
<!-- section history:
  2009-02-17 j.h: reviewed for v2.6
  2007-05-08 Added Spanish translation by AntI
-->
<!--revision2761 2009-02-23-->
<sect1 id="gimp-using-animated-brushes">
  <title lang="en">The GIH Dialog Box</title>
  <title lang="ja">GIHダイアログ</title>
  <indexterm lang="en">
    <primary>Animation</primary>
    <secondary>Creating an animated brush</secondary>
  </indexterm>
  <indexterm lang="ja">
    <primary>アニメーション</primary>
    <secondary>アニメーションブラシの作成</secondary>
  </indexterm>

  <para lang="en">
    When your new animated brush is created, it is displayed within the image
    window and you would like save it into a gih format. You select
    <menuchoice>
      <guimenu>File</guimenu>
      <guimenuitem>Save as...</guimenuitem>
    </menuchoice>
    menu, name your work with the gih extension in the new window relevant
    field and as soon as you pressed the Save button, the following window is
    displayed:
  </para>
  <para lang="ja">
    アニメーションするブラシができたなら、 それを画像ウィンドウで表示したうえで
    <acronym>GIH</acronym>形式でそれを保存することになります。 メニューより
    <menuchoice>
      <guimenu>ファイル(<accel>F</accel>)</guimenu>
      <guimenuitem>名前を付けて保存(<accel>A</accel>)...</guimenuitem>
    </menuchoice>
    するときに拡張子 <filename>.gih</filename> をファイル名に付けてから、
    <guibutton>保存(<accel>S</accel>)</guibutton> ボタンを押すと下図の
    ようなウィンドウが現れます:
  </para>

  <figure>
    <title lang="en">
      The dialog to describe the animated brush.
    </title>
    <title lang="ja">
      アニメーションするブラシの構成を記述するダイアログ
    </title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/ja/file-gih-save.png"/>
      </imageobject>
      <caption>
        <para lang="en">
          This dialog box shows up, if you save an image as GIMP image hose
        </para>
        <para lang="ja">
          <acronym>GIMP</acronym>ブラシパイプ形式の画像を保存する際に
          現れるダイアログ
        </para>
      </caption>
    </mediaobject>
  </figure>

  <para lang="en">
    This dialog box has several options not easy to understand. They allow you
    to determine the way your brush is animated.
  </para>
  <para lang="ja">
    このダイアログウィンドウのオプションはわかりにくそうですが、
    これらはブラシをアニメーションさせるために必要な指定項目です。
  </para>
  <variablelist>
    <varlistentry>
      <term lang="en">Spacing (Percent)</term>
      <term lang="ja">間隔 (パーセント)</term>
      <listitem>
        <para lang="en">
          "Spacing" is the distance between consecutive brush marks when you
          trace out a brushstroke with the pointer. You must consider drawing
          with a brush, whatever the paint tool, like stamping. If Spacing is
          low, stamps will be very close and stroke look continuous. If
          spacing is high, stamps will be separated: that's interesting with a
          color brush (like "green pepper" for instance). Value varies from 1
          to 200 and this percentage refers to brush "diameter": 100% is one
          diameter.
        </para>
        <para lang="ja">
          <quote>間隔</quote>とはポインタでなぞった描線上に並べられるブラシの
          刻印の互いの間隔のことです。 これはどんな描画ツールであっても、
          ブラシをスタンプのように考えてください。 間隔が狭い場合はそのスタンプ
          が互いに近づいて重なるので連続した描線に見えます。 逆に間隔が広い場合
          はスタンプが離れて並びます。 その良さは色ものブラシ
          (<quote>ピーマン</quote>みたいなもの) でわかります。 この値はブラシの
          <quote>直径</quote>を基底とする 1% から 200% までの範囲で指定
          できます。 100% がブラシの刻印ひとつぶんです。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term lang="en">Description</term>
      <term lang="ja">説明</term>
      <listitem>
        <para lang="en">
          It's the brush name that will appear at the top of Brush Dialog
          (grid mode) when the brush is selected.
        </para>
        <para lang="ja">
          これはブラシにつける名前を記入するところで、 ブラシダイアログ上では
          <guimenuitem>一覧で表示(<accel>L</accel>)</guimenuitem> モードなら各
          ブラシの右側に、 <guimenuitem>並べて表示(<accel>G</accel>)
          </guimenuitem> モードならば選ばれたブラシについてのみダイアログの
          上部に表示されます。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term lang="en">Cell Size</term>
      <term lang="ja">セルサイズ</term>
      <listitem>
        <para lang="en">
          That's size of cells you will cut up in layers... Default is one
          cell per layer and size is that of the layer. Then there is only
          one brush aspect per layer.
        </para>
        <para lang="en">
          We could have only one big layer and cut up in it the cells that
          will be used for the different aspects of the animated brush.
        </para>
        <para lang="en">
          For instance, we want a 100x100 pixels brush with 8 different
          aspects. We can take these 8 aspects from a 400x200 pixels layer,
          or from a 300x300 pixels layer but with one cell unused.
          On a layer, layout the former as
          <simplelist type="horiz" columns="4">
          <member>1</member> <member>2</member> <member>3</member>
          <member>4</member> <member>5</member> <member>6</member>
          <member>7</member> <member>8</member>
          </simplelist>,
          the latter as
          <simplelist type="horiz" columns="3">
          <member>1</member> <member>2</member> <member>3</member>
          <member>4</member> <member>5</member> <member>6</member>
          <member>7</member> <member>8</member>
          </simplelist>.
        </para>
        <para lang="ja">
          これはブラシ画像のレイヤーから切り出すセル (小区画) の大きさを
          決めます。 初期値はセルの大きさがレイヤーと同じになり、 つまりレイヤー
          あたりのセル数は1つです。 ちなみにその場合はレイヤー1層にブラシ相が
          1つある設定になります。
        </para>
        <para lang="ja">
          たった1層の大きなレイヤーを細かくセルに分けてアニメーションするブラシの
          様々な相に割り当てることが可能です。
        </para>
        <para lang="ja">
          例えば、 大きさが 100&#xd7;100 ピクセルで8つの相 (変化形) からなる
          ブラシを作るとします。 この8相を 400&#xd7;200 ピクセルのレイヤーに
          振り分けてもよいですし、 300&#xd7;300 ピクセルのレイヤーを用意して
          1セル余らせる方法もあります。 前者は
          <simplelist type="horiz" columns="4">
          <member>1</member> <member>2</member> <member>3</member>
          <member>4</member> <member>5</member> <member>6</member>
          <member>7</member> <member>8</member>
          </simplelist>
          の順に、 後者は
          <simplelist type="horiz" columns="3">
          <member>1</member> <member>2</member> <member>3</member>
          <member>4</member> <member>5</member> <member>6</member>
          <member>7</member> <member>8</member>
          </simplelist>
          の順にセル上で並べます。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term lang="en">Number of cells</term>
      <term lang="ja">セル数</term>
      <listitem>
        <para lang="en">
          That's the number of cells (one cell per aspect) that will be cut
          in every layer. Default is the number of layers as there is only
          one layer per aspect.
        </para>
        <para lang="ja">
          これはレイヤー1層あたりのセル数 (1つの相に1個のセルが必要) を定めます。
          既定では1つの相に1層だけレイヤーがあるとみなすので初期値はレイヤーの数と
          同じになります。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term lang="en">Display as:</term>
      <term lang="ja">表示方法</term>
      <listitem>
        <para lang="en">
          This tells how cells have been arranged in layers. If, for example,
          you have placed height cells at the rate of two cells per layer on
          four layers, GIMP will display: "1 rows of 2 columns on each layer".
        </para>
        <para lang="ja">
          この表示はセルをレイヤーに配置する様子です。 例えばもし4層のレイヤーを
          使ってそれぞれに高さセルを2つ置く割合にすると、 この表示は
          <guilabel>1行2列(各レイヤー)</guilabel> となるでしょう。
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term lang="en">Dimension, Ranks, Selection</term>
      <term lang="ja">次元; 並び; 及び選択モード</term>
      <listitem>
        <para lang="en">
          There things are getting complicated! Explanations are necessary to
          understand how to arrange cell and layers.
        </para>
        <para lang="en">
          GIMP starts retrieving cells from each layer and stacks them into a
          FIFO stack (First In First Out: the first in is at the top of the
          stack and so can be first out). In our example 4 layers with 2 cells
          in each, we'll have, from top to bottom: first cell of first layer,
          second cell of first layer, first cell of second layer, second cell
          of second layer..., second cell of fourth layer. With one cell per
          layer or with several cells per layer, result is the same. You can
          see this stack in the Layer Dialog of the resulting .gih image file.
        </para>
        <para lang="en">
          Then GIMP creates a computer array from this stack with the
          <guilabel>Dimensions</guilabel>
          you have set. You can use four dimensions.
        </para>
        <para lang="en">
          In computer science an array has a "myarray(x,y,z)" form for a 3
          dimensions array (3D). It's easy to imagine a 2D array: on a paper
          it's an array with rows and columns
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/array2D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          With a 3d array we don't talk rows and columns but
          <guilabel>Dimensions</guilabel> and
          <guilabel>Ranks</guilabel>.
          The first dimension is along x axis, the second dimension along y
          axis, the third along z axis. Each dimension has ranks of cells.
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/array3D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </para>
        <para lang="en">
          To fill up this array, GIMP starts retrieving cells from the top of
          stack. The way it fills the array reminds that of an odometer: right
          rank digits turn first and, when they reach their maximum, left rank
          digits start running. If you have some memories of Basic programming
          you will have, with an array(4,2,2), the following succession:
          (1,1,1),(1,1,2),(1,2,1),(1,2,2),(2,1,1),(2,1,2),(2,2,2),(3,1,1)....
          (4,2,2). We will see this later in an example.
        </para>
        <para lang="en">
          Besides the rank number that you can give to each dimension, you can
          also give them a <guilabel>Selection</guilabel> mode. You have
          several modes that will be applied when drawing:
          <itemizedlist>
            <listitem>
              <para>
                <emphasis>Incremental</emphasis>
                : GIMP selects a rank from the concerned dimension according
                to the order ranks have in that dimension
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Random</emphasis>
                : GIMP selects a rank at random from the concerned dimension.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Angular</emphasis>
                : GIMP selects a rank in the concerned dimension according to
                the moving angle of the brush.
              </para>
              <para>
                The first rank is for the direction 0°, upwards. The other
                ranks are affected, counter clockwise, to an angle whose value
                is 360/number of ranks. So, with 4 ranks in the concerned
                dimension, the angle will move 90° counterclockwise for each
                direction change: second rank will be affected to 270° (-90°)
                (leftwards), third rank to 180° (downwards) and fourth rank to
                90° (rightwards).
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Speed</emphasis>, <emphasis>Pressure</emphasis>,
                <emphasis>x tilt</emphasis> and <emphasis>y tilt</emphasis>
                are options for sophisticated drawing tablets.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para lang="ja">
          これらは結構複雑です。 まずはセルとレイヤーの関係とその配置について
          説明するところから始めましょう。
        </para>
        <para lang="ja">
          <acronym>GIMP</acronym>はこの種のブラシに対してはまずレイヤーごとに
          セルを読み込みにゆき、 それらを<acronym>FIFO</acronym>スタック
          (先入れ先出し: 収められた最も古いものから順に取り出せる収録方法)
          に収めることから始めます。 先の例では4層のレイヤーにそれぞれ2個のセルが
          上下の順に入っています。 これらの読み込みは第1のレイヤーの第1のセルから
          始まり、 同じレイヤーの第2のセル、 第2のレイヤーの第1のセル、 第2のレイヤー
          の第2のセル、 (中略)、 第4のレイヤーの第2のセルの順に進みます。 仮に
          1層のレイヤーに置かれているセルが1個だけでも数個でもやはり結果は
          同じです。 このスタックの様子は <filename>.gih</filename> 形式の画像
          ファイルに保存したあとでレイヤーダイアログを見るとわかります。
        </para>
        <para lang="ja">
          つぎに<acronym>GIMP</acronym>はこのスタックをコンピュータ式配列に
          記録します。 この配列は1次元から4次元までの <guilabel>次元</guilabel>
          に示された数値を用います。 
        </para>
        <para lang="ja">
          コンピュータ科学での3次元 (3D) では配列が myarray(x,y,z) のような形式
          になります。 2次元を想像するのは簡単でしょう。 つまり紙の上の行と列の
          配列のことです。
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/array2D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          3次元の配列では行や列とは言わず <guilabel>次元</guilabel> と
          <guilabel>並び</guilabel> といいます。
          第1次元はx軸、 第2次元はy軸、 第3次元はz軸のことを指しています。
          それぞれの次元にセルの並びがあるのです。
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/array3D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </para>
        <para lang="ja">
          <acronym>GIMP</acronym>はスタックの上のセル (先に入ったセル) から順に
          取り出してこの配列を埋めてゆきます。 配列を埋める様子は自動車の走行
          メータのカウンタのようなものです。 並びを桁とみなしてください。
          右端の桁をまず回し、 そこが最大数に達したら左隣の桁を回します。
          プログラミングの基本を思い返していただきたいのですが、 array(4,2,2)
          を展開すると (1,1,1)、 (1,1,2)、 (1,2,1)、 (1,2,2)、 (2,1,1)、
          (2,1,2)、 (2,2,2)、 (3,1,1)、 ..中略..  (4,2,2) となるはずです。
        </para>
        <para lang="ja">
          各次元にそれぞれ桁数のように並びの数値を与えられるほかに、 これらには
          <guilabel>選択</guilabel> モードも与えられます。 使えるモードはつぎの
          とおり:
          <itemizedlist>
            <listitem>
              <para>
                <emphasis>Incremental</emphasis>: 指定された次元から位を選ぶ
                ときに次元上での順序に従います。
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Random</emphasis>:
                与えられた次元から無作為に位を選択します。
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Angular</emphasis>: 与えられた次元から位を選ぶときに
                ブラシが移動する方角を参考にします。
              </para>
              <para>
                最初の位は 0°、 つまり上向き方向に結びつけます。 つづく他の
                位には桁数で 360° を等分割した方角を時計回りの順に割り振って
                ゆきます。 例えばこの次元に4つの位があればブラシの移動の方角は
                それぞれ時計回りに 90° ずつの区切りのどれかに拾われます。
                つまり2番目の位は第4象限、 3番目の位は第3象限、 4番目の位は
                第2象限の各方向への動きに反応するようになるのです。
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Velocity</emphasis>; <emphasis>Pressure</emphasis>; 
                <emphasis>x tilt</emphasis>; <emphasis>y tilt</emphasis>:
                これらは高度なタブレット描画のためのオプションです。
              </para>
            </listitem>
          </itemizedlist>
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title lang="en">Examples</title>
    <title lang="ja">例</title>
    <varlistentry>
      <term lang="en">A one dimension image pipe</term>
      <term lang="ja">1次元の散播式ブラシ</term>
      <listitem>
        <para lang="en">
        Well! What is all this useful for? We'll see that gradually with
        examples. You can actually place in each dimension cases that will
        give your brush a particular action.
      </para>
      <para lang="en">
        Let us start with a 1D brush which will allow us to study selection
        modes action. We can imagine it like this:
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/using/array1D.png" format="PNG"/>
          </imageobject>
        </mediaobject>
        Follow these steps:
        <orderedlist>
          <listitem>
            <para>
              Open a new 30x30 pixels image, RGB with Transparent fill type.
              Using the Text tool create 4 layers "1", "2", "3", "4". Delete
              the "background" layer.
            </para>
          </listitem>
          <listitem>
            <para>
              Save this image first with .xcf extension to keep its properties
              then save it as .gih.
            </para>
          </listitem>
          <listitem>
            <para>
              The Save As Dialog is opened: select a destination for your
              image. OK. The GIH dialog is opened: Choose Spacing 100, give a
              name in Description box, 30x30 for Cell Size, 1 dimension,
              4 ranks and choose "Incremental" in Selection box. OK.
            </para>
          </listitem>
          <listitem>
            <para>
              You may have difficulties to save directly in the GIMP Brush
              directory. In that case, save the <filename>.gih</filename>
              file manually into the
              <filename>/usr/share/gimp/gimp 2.0/brushes</filename>
              directory. Then come back into the Toolbox, click in the brush
              icon to open the Brush Dialog then click on "Refresh". Your new
              brush appears in the Brush window. Select it. Select pencil tool
              for instance and click and hold with it on a new image
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/using/1234incr.png" format="PNG"/>
                </imageobject>
              </mediaobject>
              You see 1, 2, 3, 4 digits following one another in order.
            </para>
          </listitem>
          <listitem>
            <para>
              Take your .xcf image file back and save it as .gih setting
              Selection to "Random": digits will be displayed at random
              order:
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/using/1234rand.png" format="PNG"/>
                </imageobject>
              </mediaobject>
            </para>
          </listitem>
          <listitem>
            <para>
              Now select "Angular" Selection:
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/using/1234angl.png" format="PNG"/>
                </imageobject>
              </mediaobject>
            </para>
          </listitem>
        </orderedlist>
      </para>
        <para lang="ja">
          「おいおい！ そんなの何の役に立つの？」 答え: この例はこれから
          だんだんとグレードアップします。 次元も上げていきますから効果的な
          ブラシもちゃんと作れます。
        </para>
        <para lang="ja">
          まずは1次元ブラシからはじめますが、 これでも選択モードのはたらきが
          わかるようになります。 下図のような配列を思い起こしてください。
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/array1D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          順を追ってゆきましょう。
          <orderedlist>
            <listitem>
              <para>
                拡張子 <filename>.gih</filename> をつけて保存する前に、
                元の画像の全ての属性を保存するためにこの画像に拡張子
                <filename>.xcf</filename> をつけて保存してください。
              </para>
            </listitem>
            <listitem>
              <para>
                元の画像の全ての属性を保存するためにこの画像に拡張子
                <filename>.xcf</filename> をつけて保存したあとで、
                拡張子 <filename>.gih</filename> をつけた別名でも保存します。
              </para>
            </listitem>
            <listitem>
              <para>
                <acronym>GIH</acronym>形式で保存するときにはまず<quote>
                画像を保存 </quote>ダイアログが出ますから名前と保存先を指定して
                ください。 次に<quote>ブラシパイプ形式で保存</quote>ダイアログ
                が現れますから、 <guilabel>間隔</guilabel> は <userinput>100
                </userinput> パーセントに、 <guilabel>説明</guilabel> には任意
                の名前を、 <guilabel>セルサイズ</guilabel> は <userinput>30
                </userinput> &#xd7; <userinput>30</userinput> のまま、
                <guilabel>次元</guilabel> は <userinput>1</userinput> 次元に、
                <guilabel>並び</guilabel> には <userinput>4</userinput> と
                <guimenuitem>Incremental</guimenuitem> を指定してから、
                <guibutton>保存(<accel>S</accel>)</guibutton>
                ボタンを押します。
              </para>
            </listitem>
            <listitem>
              <para>
                <acronym>GIMP</acronym>のブラシディレクトリに直接保存する機能が
                うまくはたらかないときは、 後で個人用の<acronym>GIMP</acronym>
                フォルダ内にある <filename>brushes</filename> フォルダに
                <filename>.gih</filename> ファイルを移してください。 さて
                ツールボックスに戻ったら、 ブラシアイコンをクリックして
                ブラシダイアログを呼びだし、 ダイアログ下部の<guiicon>
                <inlinemediaobject><phrase>ブラシの再読み込み</phrase>
                </inlinemediaobject></guiicon> アイコンをクリックしてください。
                ダイアログウィンドウ内にあなたのブラシが現れますので、 それを
                選びましょう。 試しに<quote>鉛筆で描画</quote>ツールを選んで
                白紙の画像に描いてみるとこうなります。
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/1234incr.png"/>
                  </imageobject>
                </mediaobject>
                数字の1と2と3と4が順番通りに並んでいますでしょう。
              </para>
            </listitem>
            <listitem>
              <para>
                保存しておいた <filename>.xcf</filename> 画像を読み戻してから、
                今度は並びの選択に <guimenuitem>Random</guimenuitem> を選んで
                <filename>.gih</filename> 形式で保存します。 すると描画される
                数字は順不同になります。
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/1234rand.png"/>
                  </imageobject>
                </mediaobject>
              </para>
            </listitem>
            <listitem>
              <para>
                並びの選択が <guimenuitem>Angular</guimenuitem>
                ならこうなります。
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/1234angl.png"/>
                  </imageobject>
                </mediaobject>
              </para>
            </listitem>
          </orderedlist>
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term lang="en">A 3 dimensions image hose</term>
      <term lang="ja">3次元の散播式ブラシ</term>
      <listitem>
        <para lang="en">
          We are now going to create a 3D animated brush: its orientation will
          vary according to brush direction, it will alternate Left/Right
          hands regularly and its color will vary at random between black and
          blue.
        </para>
        <para lang="en">
          The first question we have to answer to is the number of images that
          is necessary. We reserve the first dimension (x) to the brush
          direction (4 directions). The second dimension (y) is for Left/Right
          alternation and the third dimension (z) for color variation. Such a
          brush is represented in a 3D array "myarray(4,2,2)":
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/3Dnum.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          There are 4 ranks in first dimension (x), 2 ranks in second
          dimension (y) and 2 ranks in third dimension (z). We see that there
          are 4x2x2 = 16 cells. We need 16 images.
        </para>
        <para lang="ja">
          さていよいよ3次元のアニメーションブラシをつくるところまで来ました:
          ブラシの方角によってブラシの刻印の向きを変えつつ左手と右手を交互に
          描き、 黒か青に無作為に色変りするブラシにします。
        </para>
        <para lang="ja">
          まずはじめにいくつの形象が必要になるかが問題になります。 第1次元 x は
          ブラシの方角 (4方向) のためにとっておきます。 第2次元 y は左手と右手
          の交替に、 第3次元 z は色変化に割り当てます。 このようなブラシは
          3次元配列 myarray(4,2,2) として表せます:
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/3Dnum.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          第1次元 x には4つの位があり、 第2次元 y には2つの位、 第3次元 z には
          2つの位があります。 合計は 4&#xd7;2&#xd7;2 = 16 セルなので、 必要な
          形象は 16 枚です。
        </para>
        <orderedlist>
          <listitem>
            <para lang="en">
              <emphasis>Creating images of dimension 1 (x)</emphasis>:
              Open a new 30x30 pixels image, RGB with Transparent Fill Type.
              Using the zoom draw a left hand with fingers upwards. Save it as
              handL0k.xcf (hand Left O° Black).
            </para>
            <para lang="en">
              Open the Layer Dialog. Double click on the layer to rename it
              to handL0k.
            </para>
            <para lang="en">
              Duplicate the layer. Let visible only the duplicated layer,
              select it and apply a 90° rotation (Layer/Transform/ 90°
              rotation clockwise). Rename it to handL90k.
            </para>
            <para lang="en">
              Repeat the same operations to create handL180k and handL-90k.
            </para>
            <para lang="ja">
              <emphasis>第1次元 x の形象を作成</emphasis>: 塗りつぶし色に透明を
              指定した 30&#xd7;30 ピクセルの<acronym>RGB</acronym>画像を
              新たに用意します。 拡大ズーム表示を利用しながら指が上向きの左手を
              描いてください。 これを <filename>handL0k.xcf</filename> (左手、
              0度、 黒) の名前で保存します。
            </para>
            <para lang="ja">
              レイヤーダイアログを開いて、 そのレイヤーの名前を
              「<userinput>左手　0黒</userinput>」にします。 (レイヤー名欄を
              ダブルクリックして直に書き直すか、 レイヤーメニューより
              <guimenuitem>レイヤー名を変更(<accel>E</accel>)...</guimenuitem>
              と進んで<quote>レイヤー名の変更</quote>ダイアログ上で新しい名前に
              します)。
            </para>
            <para lang="ja">
              そのレイヤーを複製してください。 つぎに複製レイヤーだけを可視化し
              活性化してから、 90° 回転をかけます (メニューより
              <menuchoice>
                <guimenu>レイヤー(<accel>L</accel>)</guimenu>
                <guisubmenu>変換(<accel>T</accel>)</guisubmenu>
                <guimenuitem>時計回りに 90 度回転(<accel>C</accel>)</guimenuitem>
              </menuchoice> )。
              そのレイヤーの名前を「<userinput>左手 90黒</userinput>」とします。
            </para>
            <para lang="ja">
              同様にして「<userinput>左手180黒</userinput>」と
              「<userinput>左手-90黒</userinput>」も作ります。
            </para>
          </listitem>
          <listitem>
            <para lang="en">
              <emphasis>Creating images of dimension 2 (y)</emphasis>:
              This dimension in our example has two ranks, one for left hand
              and the other for right hand. The left hand rank exists yet. We
              shall build right hand images by flipping it horizontally.
            </para>
            <para lang="en">
              Duplicate the handL0k layer. Let it visible only and select it.
              Rename it to handR0K. Apply Layer/Transform/Flip Horizontally.
            </para>
            <para lang="en">
              Repeat the same operation on the other left hand layers to
              create their right hand equivalent.
            </para>
            <para lang="en">
              Re-order layers to have a clockwise rotation from top to bottom,
              alternating Left and Right: handL0k, handR0k, handL90k,
              handR90k, ..., handR-90k.
            </para>
            <para lang="ja">
              <emphasis>第2次元 y の形象を作成</emphasis>: この例題では第2次元
              に2つの位を置き、 1つめに左手を、 2つめには右手を割り当てます。
              左手の位はもうできています。 水平方向の鏡像反転を利用して右手の
              形象をつくりましょう。
            </para>
            <para lang="ja">
              「<userinput>左手　0黒</userinput>」レイヤーを複製します。 複製
              レイヤーのみ可視化して、 レイヤー名を「<userinput>右手　0黒
              </userinput>」に変更します。 メニューより
              <menuchoice>
                <guimenu>レイヤー(<accel>L</accel>)</guimenu>
                <guisubmenu>変換(<accel>T</accel>)</guisubmenu>
                <guimenuitem>水平反転(<accel>H</accel>)</guimenuitem>
              </menuchoice> します。
            </para>
            <para lang="ja">
              同様に左手のレイヤーから相応する右手のレイヤーをつくってください。
            </para>
            <para lang="ja">
              時計回りの順にレイヤーを並び替え、 左手と右手が交互に現れるように
              します。 つまり「<userinput>左手　0黒</userinput>」、
              「<userinput>右手　0黒</userinput>」、 「<userinput>左手 90黒
              </userinput>」、 「<userinput>右手 90黒</userinput>」、 中略、
              「<userinput>右手-90黒</userinput>」と並ぶはずです。
            </para>
          </listitem>
          <listitem>
            <para lang="en">
              <emphasis>Creating images of dimension 3 (z)</emphasis>:
              The third dimension has two ranks, one for black color and the
              other for blue color. The first rank, black, exists yet. We well
              see that images of dimension 3 will be a copy, in blue, of the
              images of dimension 2. So we will have our 16 images. But a row
              of 16 layers is not easy to manage: we will use layers with two
              images.
            </para>
            <para lang="en">
              Select the handL0k layer and let it visible only. Using
              Image/Canvas Size change canvas size to 60x30 pixels.
            </para>
            <para lang="en">
              Duplicate hand0k layer. On the copy, fill the hand with blue
              using Bucket Fill tool.
            </para>
            <para lang="en">
              Now, select the Move tool.  Check "Move the Active Layer"
              option on its Tool Option Dialog.  Move the blue
              hand into the right part of the layer precisely with the help of
              Zoom.
            </para>
            <para lang="en">
              You should marge handL0k and its blue copy.  GIMP provides 2 ways
              to do this, you can choice any of them.  First one, place the
              replica layer with blue on the next beneath of handL0k layer,
              then apply "Merge Down" command of Layer menu.   Or you can also
              merge them, if you give visibility only handL0k and its blue
              dupulicated layer on the Layer Dialog,
              by applying the "Merge Visible Layers..." command with the option
              "Expand as Necessary" on its Dialog.  You get a 60x30
              pixels layer with the black hand on the left and the blue hand
              on the right. Rename it to "handL0".
            </para>
            <para lang="en">
              Repeat the same operations on the other layers.
            </para>
            <para lang="ja">
              <emphasis>第3次元 z の形象を作成</emphasis>: 第3の次元には2つの
              位を設け、 ひとつは黒くもうひとつは青く塗ります。 黒の第1の位は
              もうできています。 しかも第3次元の形象はいずれも第2次元の形象を
              複製して青色に変えればできあがることはもうおわかりですね。 以上で
              16枚全ての形象が出揃うことになります。 しかし16ものレイヤーの列は
              管理がたいへんです。 そこでレイヤーに2つづつ形象を収めるようにして
              しまいましょう。
            </para>
            <para lang="ja">
              「<userinput>左手　0黒</userinput>」のレイヤーを選んでそれだけを
              可視化します。 メニューより
              <menuchoice>
                <guimenu>画像(<accel>I</accel>)</guimenu>
                <guimenuitem>キャンバスサイズの変更(<accel>V</accel>)...</guimenuitem>
              </menuchoice>
              を使ってキャンバスの大きさを 60&#xd7;30 ピクセルに変更します。
            </para>
            <para lang="ja">
              「<userinput>左手　0黒</userinput>」のレイヤーを複製して、 複製
              レイヤーの掌を塗りつぶしツールで青くします。
            </para>
            <para lang="ja">
              そうしたら移動ツールを起用してください。 ツールオプションの
              <guilabel>アクティブなレイヤーを移動</guilabel> にチェックを入れ
              ます。 青い掌をレイヤーの右側の区画に、 拡大ズーム表示の助けを借り
              ながら正確に置いてください。
            </para>
            <para lang="ja">
              つぎに「<userinput>左手　0黒</userinput>」レイヤーとその青コピーを
              統合しなければなりません。 <acronym>GIMP</acronym>には2通りの方法
              がありますのでお好きな手順をとってください。 ひとつめは、 青の
              複製レイヤーをレイヤーダイアログ上で「<userinput>左手　0黒
              </userinput>」のすぐ下に置いて、 レイヤーメニューから <guimenuitem>
              下のレイヤーと統合(<accel>W</accel>)</guimenuitem>する方法です。
              もうひとつは「<userinput>左手　0黒</userinput>」レイヤーとその青い
              複製レイヤーだけを可視化したうえで、 レイヤーメニューから
              <guimenuitem>可視レイヤーの統合(<accel>V</accel>)...
              </guimenuitem> とすると現れるダイアログで
              <guimenuitem>対象レイヤーを内包するサイズ</guimenuitem> を選んで
              実行します。 左側に黒の掌、 右側に青の掌が並んだ 60&#xd7;30
              ピクセルのレイヤーができあがります。 その名前を「<userinput>左手　0
              </userinput>」に変えてください。
            </para>
            <para lang="ja">
              他のレイヤーに対しても同じ手順を繰り返してください。
            </para>
          </listitem>
          <listitem>
            <para lang="en"> 
              <emphasis>Set layers in order</emphasis>: Layers must be set in
              order so that GIMP can find the required image at some point
              of using the brush. Our layers are yet in order but we must
              understand more generally how to have them in order.  There are
              two ways to imagine this setting in order. The first method is
              mathematical: GIMP divides the 16 layers first by 4; that gives
              4 groups of 4 layers for the first dimension. Each group
              represents a direction of the brush. Then, it divides each group
              by 2; that gives 8 groups of 2 layers for the second dimension:
              each group represents a L/R alternation. Then another division
              by 2 for the third dimension to represent a color at random
              between black and blue.
            </para>
            <para lang="en">
              The other method is visual, by using the array representation.
              Correlation between two methods is represented in next image:
              <mediaobject>
                <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/correlation.png"/>
                </imageobject>
              </mediaobject>
            </para>
            <para lang="en">
              <emphasis>How will GIMP read this array?</emphasis>: GIMP
              starts with the first dimension which is programmed for
              <quote>angular</quote>, for instance 90°. In this 90°
              rank, in yellow, in the second dimension, it selects a L/R
              alternation, in an <quote>incremental</quote> way. Then,
              in the third dimension, in a random way, it chooses a color.
              Finely, our layers must be in the following order:
              <mediaobject>
                <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/hands_gih.png"/>
                </imageobject>
              </mediaobject>
            </para>
            <para lang="ja">
              <emphasis>レイヤーを順番通り並べます</emphasis>: ブラシを使った
              ときの動作に対して要求通りの形象を<acronym>GIMP</acronym>が拾える
              ように、 レイヤーを順序よく配置しなければなりません。 既に例題の
              レイヤーはその順序で並べ終えていますが、 レイヤーの配置順の一般的な
              方則についても理解しておく必要があるでしょう。 序列化のしくみに
              ついて見当をつける方法が2通りありますのでご紹介しましょう。
              1つめは数学的な見方です。 <acronym>GIMP</acronym>は16層のレイヤーを
              4層ごとに区切って4つのグループとみなし、 これが第1次元に
              なります。 それぞれのグループがブラシの方角を表すのです。
              さらに、 それぞれのグループを2つに分けて、 2層のレイヤーからなる
              8つのグループとみなし、 これが第2次元になります。 このグループは
              それぞれ左右の掌の転換を表します。 第3次元では全体を2つのグループ
              に分け、 青か黒の無作為な色分けを表します。
            </para>
            <para lang="ja">
              もう一つの方法は配列を視覚的に表現してみることです。 先に示した
              見方との相関図を下に示します。
              <mediaobject>
                <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/ja/correlation.png"/>
                </imageobject>
              </mediaobject>
            </para>
            <para lang="ja">
              <emphasis><acronym>GIMP</acronym>はどんなふうにしてこの配列を
              読み込むか？</emphasis>: <acronym>GIMP</acronym>が最初に読み取る
              のは第1次元です。 例題では <guimenuitem>angular</guimenuitem>
              (ブラシ方向: 例えば 90°) に結びつけてプログラムされています。
              90° の位をみると、 黄色で示した第2次元では <guimenuitem>
              incremental</guimenuitem> 選択によって左右の転換をしています。
              そして第3の次元では、 無作為に色を選択しています。
              よって最終的にレイヤーの順序は次のようにしなければなりません:
              <mediaobject>
                <imageobject>
                    <imagedata format="PNG"
                      fileref="images/using/ja/hands_gih.png"/>
                </imageobject>
              </mediaobject>
            </para>
          </listitem>
          <listitem>
            <para lang="en">
              Voilà. Your brush is ready. Save it as .xcf first then as .gih
              with the following parameters: Spacing:100 Description:Hands
              Cell Size: 30x30 Number of cells:16 Dimensions: 3
            </para>
            <para lang="ja">
              ほらね。 ブラシができました。 先に拡張子 <filename>.xcf
              </filename> をつけて保存してから、 <acronym>GIH</acronym>形式では
              <guilabel>間隔</guilabel> を <userinput>100</userinput>
              パーセントに、 <guilabel>説明</guilabel> には <userinput>手
              </userinput> を、 <guilabel>セルサイズ</guilabel> は <userinput>
              30</userinput> &#xd7; <userinput>30</userinput> に、 <guilabel>
              セル数</guilabel> が <userinput>16</userinput> で <userinput>3
              </userinput> <guilabel>次元</guilabel> のブラシパイプとして保存
              します。
            </para>
            <itemizedlist>
              <listitem>
                <para lang="en">
                  Dimension 1: 4 ranks Selection: Angular
                </para>
                <para lang="ja">
                  第1次元: 4桁、 選択: Angular
                </para>
              </listitem>
              <listitem>
                <para lang="en">
                  Dimension 2: 2 ranks Selection: Incremental
                </para>
                <para lang="ja">
                  第2次元: 2桁、 選択: Incremental
                </para>
              </listitem>
              <listitem>
                <para lang="en">
                  Dimension 3: 2 ranks Selection: Random
                </para>
                <para lang="ja">
                  第3次元: 2桁、 選択: Random
                </para>
              </listitem>
            </itemizedlist>
            <para lang="en">
              Place your .gih file into GIMP brush directory and refresh the
              brush box. You can now use your brush.
            </para>
            <para lang="ja">
              個人用の<acronym>GIMP</acronym>ブラシディレクトリに <filename>
              .gih</filename> ファイルを置いてブラシダイアログで再読み込み
              します。 その時点でこのブラシが使用できるようになりました。
            </para>
            <figure>
              <title lang="en">
                Here is the result by stroking an elliptical selection
                with the brush:
              </title>
              <para lang="ja">
                例題のブラシを用いて楕円選択の境界線を描画した結果を示す:
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/hands_stroke.png"/>
                </imageobject>
                <caption>
                  <para lang="en">
                    This brush alternates right hand and left hand regularly,
                    black and blue color at random, according to four brush
                    directions.
                  </para>
                  <para lang="ja">
                    このブラシの左手と右手はかわるがわる入れ替わり、 無作為に
                    黒と青の色変りが起こり、 ブラシの方向は4つの方角に
                    従っている。
                  </para>
                </caption>
              </mediaobject>
            </figure>
          </listitem>
        </orderedlist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
